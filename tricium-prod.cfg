# Schema for this config file: ProjectConfig in
# luci-config.appspot.com/schemas/projects:tricium-prod.cfg

acls {
  role: REQUESTER
  group: "tricium-infra-requesters"
}

functions {
  type: ANALYZER
  name: "ChromiumosWrapper"
  needs: GIT_FILE_DETAILS
  provides: RESULTS
  owner: "bmgordon@google.com"
  monorail_component: "Infra>ChromeOS>Build"
  impls {
    runtime_platform: LINUX
    provides_for_platform: LINUX
    recipe {
      project: "chromeos"
      bucket: "infra"
      builder: "tricium"
    }
  }
}

functions {
  type: ANALYZER
  name: "BuildLinters"
  needs: GIT_FILE_DETAILS
  provides: RESULTS
  monorail_component: "Infra>Platform>Tricium>Analyzer"
  path_filters: "*.rs"
  owner: "ryanbeltran@google.com"
  impls {
    runtime_platform: LINUX
    provides_for_platform: LINUX
    recipe {
      project: "chromeos"
      bucket: "cq"
      builder: "atlas-linters-cq"
    }
  }
}

selections {
  function: "ChromiumosWrapper"
  platform: LINUX
}

selections {
  function: "BuildLinters"
  platform: LINUX
}

repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/chromite"
    git_url: "https://chromium.googlesource.com/chromiumos/chromite"
  }
  # This group determines whose CLs will have Tricium runs automatically
  # created. For security reasons, Tricium doesn't create runs for users that
  # don't have tryjob access.
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/overlays/board-overlays"
    git_url: "https://chromium.googlesource.com/chromiumos/overlays/board-overlays"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chrome-internal-review.googlesource.com"
    project: "chromeos/overlays/chromeos-overlay"
    git_url: "https://chrome-internal.googlesource.com/chromeos/overlays/chromeos-overlay"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/overlays/chromiumos-overlay"
    git_url: "https://chromium.googlesource.com/chromiumos/overlays/chromiumos-overlay"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/overlays/eclass-overlay"
    git_url: "https://chromium.googlesource.com/chromiumos/overlays/eclass-overlay"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/touch_updater"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/touch_updater"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/crosutils"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/crosutils"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/ec"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/ec"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform2"
    git_url: "https://chromium.googlesource.com/chromiumos/platform2"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/third_party/autotest"
    git_url: "https://chromium.googlesource.com/chromiumos/third_party/autotest"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/tast"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/tast"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/tast-tests"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/tast-tests"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/config"
    git_url: "https://chromium.googlesource.com/chromiumos/config"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/factory"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/factory"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/factory_installer"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/factory_installer"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chromium-review.googlesource.com"
    project: "chromiumos/platform/vboot_reference"
    git_url: "https://chromium.googlesource.com/chromiumos/platform/vboot_reference"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}
repos {
  gerrit_project {
    host: "chrome-internal-review.googlesource.com"
    project: "chromeos/cros-signing"
    git_url: "https://chrome-internal.googlesource.com/chromeos/cros-signing"
  }
  whitelisted_group: "project-chromeos-tryjob-access"
}

service_account: "tricium-prod@appspot.gserviceaccount.com"
